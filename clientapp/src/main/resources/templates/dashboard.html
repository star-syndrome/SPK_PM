<!DOCTYPE html>
<html
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/main}">
	<head>
		<title>Beranda</title>
	</head>

	<body>
		<!-- Fragment konten utama -->
		<div layout:fragment="content" class="d-flex">
			<!-- Modal Tambah Kriteria -->
			<div
				class="modal fade"
				id="modalTambahKriteria"
				tabindex="-1"
				aria-labelledby="modalTambahKriteriaLabel"
				aria-hidden="true">
				<div class="modal-dialog modal-dialog-centered">
					<div class="modal-content shadow rounded-3">
						<div class="modal-header bg-primary text-white">
							<h5 class="modal-title fw-bold" id="modalTambahKriteriaLabel">
								<i class="fas fa-plus-circle me-2"></i> Tambah Kriteria
							</h5>
							<button
								type="button"
								class="btn-close btn-close-white"
								data-bs-dismiss="modal"
								aria-label="Close"></button>
						</div>

						<form id="formTambahKriteria" class="needs-validation" novalidate>
							<div class="modal-body px-4 py-3">
								<div class="mb-3">
									<label for="criteria-code" class="form-label fw-semibold"
										>Kode Kriteria</label
									>
									<input
										type="text"
										class="form-control"
										id="criteria-code"
										maxlength="2"
										required
										placeholder="Contoh: PD" />
								</div>
								<div class="mb-3">
									<label for="criteria-name" class="form-label fw-semibold"
										>Nama Kriteria</label
									>
									<input
										type="text"
										class="form-control"
										id="criteria-name"
										required
										placeholder="Masukkan nama kriteria" />
								</div>
								<div class="mb-3">
									<label for="criteria-weight" class="form-label fw-semibold"
										>Bobot Kriteria</label
									>
									<input
										type="number"
										class="form-control"
										id="criteria-weight"
										min="0"
										max="0.99"
										step="0.01"
										required
										placeholder="Contoh: 0.20" />
									<div class="form-text">Nilai antara 0 - 0.99</div>
								</div>
							</div>

							<div class="modal-footer px-4 py-3">
								<button
									type="button"
									class="btn btn-secondary"
									data-bs-dismiss="modal">
									<i class="fas fa-times me-1"></i> Tutup
								</button>
								<button type="submit" class="btn btn-success">
									<i class="fas fa-save me-1"></i> Simpan
								</button>
							</div>
						</form>
					</div>
				</div>
			</div>

			<!-- Modal Tambah Subkriteria -->
			<div
				class="modal fade"
				id="addSubcriteriaModal"
				tabindex="-1"
				aria-hidden="true">
				<div class="modal-dialog modal-dialog-centered">
					<div class="modal-content shadow rounded-3">
						<div class="modal-header bg-primary text-white">
							<h5 class="modal-title fw-bold">
								<i class="fas fa-plus-circle me-2"></i> Tambah Subkriteria
							</h5>
							<button
								type="button"
								class="btn-close btn-close-white"
								data-bs-dismiss="modal"></button>
						</div>
						<form id="addSubcriteriaForm" class="needs-validation" novalidate>
							<div class="modal-body px-4 py-3">
								<div class="mb-3">
									<label for="subcriteria-code" class="form-label fw-semibold"
										>Kode Subkriteria</label
									>
									<input
										type="text"
										class="form-control"
										id="subcriteria-code"
										name="code"
										required
										maxlength="3"
										placeholder="Contoh: PD1" />
								</div>
								<div class="mb-3">
									<label
										for="subcriteria-description"
										class="form-label fw-semibold"
										>Deskripsi</label
									>
									<input
										type="text"
										class="form-control"
										id="subcriteria-description"
										name="description"
										required
										placeholder="Deskripsi subkriteria" />
								</div>
								<div class="mb-3">
									<label for="subcriteria-type" class="form-label fw-semibold"
										>Tipe</label
									>
									<select
										class="form-select"
										id="subcriteria-type"
										name="type"
										required>
										<option value="">-- Pilih Tipe --</option>
										<option value="Core Factor">Core Factor</option>
										<option value="Secondary Factor">Secondary Factor</option>
									</select>
								</div>
								<div class="mb-3">
									<label for="subcriteria-target" class="form-label fw-semibold"
										>Target</label
									>
									<input
										type="number"
										class="form-control"
										id="subcriteria-target"
										name="target"
										required
										step="1"
										min="1"
										max="5"
										placeholder="Masukkan nilai target antara 1 sampai 5" />
								</div>
								<div class="mb-3">
									<label
										for="subcriteria-criteria"
										class="form-label fw-semibold"
										>Kriteria</label
									>
									<select
										class="form-select"
										id="criteriaId"
										name="criteriaId"
										required>
										<option value="" selected>-- Pilih Kriteria --</option>
										<!-- Diisi secara dinamis dari database -->
									</select>
								</div>
							</div>
							<div class="modal-footer px-4 py-3">
								<button
									type="button"
									class="btn btn-secondary"
									data-bs-dismiss="modal">
									<i class="fas fa-times me-1"></i> Batal
								</button>
								<button type="submit" class="btn btn-success">
									<i class="fas fa-save me-1"></i> Simpan
								</button>
							</div>
						</form>
					</div>
				</div>
			</div>

			<!-- Modal Tambah Kandidat -->
			<div
				class="modal fade"
				id="addCandidateModal"
				tabindex="-1"
				aria-hidden="true">
				<div class="modal-dialog modal-dialog-centered">
					<div class="modal-content shadow rounded-3">
						<div class="modal-header bg-primary text-white">
							<h5 class="modal-title fw-bold">
								<i class="fas fa-plus-circle me-2"></i> Tambah Alternatif
							</h5>
							<button
								type="button"
								class="btn-close btn-close-white"
								data-bs-dismiss="modal"></button>
						</div>
						<form id="addCandidateForm" class="needs-validation" novalidate>
							<div class="modal-body px-4 py-3">
								<div class="mb-3">
									<label for="nama-kandidat" class="form-label fw-semibold"
										>Nama</label
									>
									<input
										type="text"
										class="form-control"
										id="nama-kandidat"
										name="nama-kandidat"
										required
										placeholder="Masukkan nama" />
								</div>
								<div class="mb-3">
									<label for="tanggal-lahir" class="form-label fw-semibold"
										>Tanggal Lahir</label
									>
									<input
										type="date"
										class="form-control"
										id="tanggal-lahir"
										name="tanggal-lahir"
										required />
								</div>
								<div class="mb-3">
									<label for="jenis-kelamin" class="form-label fw-semibold"
										>Jenis Kelamin</label
									>
									<select
										class="form-select"
										id="jenis-kelamin"
										name="jenis-kelamin"
										required>
										<option value="">-- Pilih Jenis Kelamin --</option>
										<option value="L">Laki-laki</option>
										<option value="P">Perempuan</option>
									</select>
								</div>
								<div class="mb-3">
									<label for="nomor-telepon" class="form-label fw-semibold"
										>Nomor Telepon</label
									>
									<input
										type="text"
										class="form-control"
										id="nomor-telepon"
										name="nomor-telepon"
										required
										maxlength="13"
										placeholder="Masukkan nomor telepon" />
								</div>
								<div class="mb-3">
									<label for="alamat" class="form-label fw-semibold"
										>Alamat</label
									>
									<input
										type="text"
										class="form-control"
										id="alamat"
										name="alamat"
										required
										placeholder="Masukkan alamat" />
								</div>
							</div>
							<div class="modal-footer px-4 py-3">
								<button
									type="button"
									class="btn btn-secondary"
									data-bs-dismiss="modal">
									<i class="fas fa-times me-1"></i> Batal
								</button>
								<button type="submit" class="btn btn-success">
									<i class="fas fa-save me-1"></i> Simpan
								</button>
							</div>
						</form>
					</div>
				</div>
			</div>

			<!-- Dashboard Content -->
			<div class="dashboard-content container-fluid px-4 py-4">
				<!-- Welcome Section -->
				<div class="welcome-section animate__animated animate__fadeInUp mb-4">
					<h1 class="welcome-title">
						<i class="fas fa-hand-paper me-2"></i>
						Selamat Datang, <span sec:authentication="name"></span>!
					</h1>
					<p class="welcome-subtitle">
						Sistem Pendukung Keputusan Penerimaan Kader Posyandu Lansia Melati
						Menggunakan Metode Profile Matching
					</p>
				</div>

				<!-- Stats Cards -->
				<div class="row stats-row mb-4">
					<!-- Total Pendaftar -->
					<div class="col-lg-4 col-md-6 mb-3">
						<div class="stats-card primary">
							<div class="stats-header">
								<div>
									<div class="stats-number" id="total-candidate"></div>
									<div class="stats-label">Total Alternatif</div>
								</div>
								<div class="stats-icon primary">
									<i class="fas fa-user-plus"></i>
								</div>
							</div>
						</div>
					</div>

					<!-- Total Kriteria -->
					<div class="col-lg-4 col-md-6 mb-3">
						<div class="stats-card warning">
							<div class="stats-header">
								<div>
									<div class="stats-number" id="total-criteria">0</div>
									<div class="stats-label">Total Kriteria</div>
								</div>
								<div class="stats-icon warning">
									<i class="fas fa-sliders-h"></i>
								</div>
							</div>
						</div>
					</div>

					<!-- Total Subkriteria -->
					<div class="col-lg-4 col-md-6 mb-3">
						<div class="stats-card info">
							<div class="stats-header">
								<div>
									<div class="stats-number" id="total-subcriteria">0</div>
									<div class="stats-label">Total Subkriteria</div>
								</div>
								<div class="stats-icon info">
									<i class="fas fa-puzzle-piece"></i>
								</div>
							</div>
						</div>
					</div>
				</div>

				<!-- Quick Actions -->
				<div class="section-card animate__animated animate__fadeInUp">
					<div class="section-header mb-3">
						<h3 class="section-title">Aksi Cepat</h3>
					</div>
					<div class="quick-actions d-flex flex-wrap">
						<!-- Tambah Pendaftar -->
						<a
							href="javascript:void(0)"
							class="action-card"
							data-bs-toggle="modal"
							data-bs-target="#addCandidateModal">
							<div class="action-icon">
								<i class="fas fa-user-plus"></i>
							</div>
							<div class="action-title">Tambah Alternatif</div>
							<div class="action-desc">Masukkan data alternatif baru</div>
						</a>

						<!-- Tambah Kriteria -->
						<a
							href="javascript:void(0)"
							class="action-card"
							data-bs-toggle="modal"
							data-bs-target="#modalTambahKriteria">
							<div class="action-icon">
								<i class="fas fa-sliders-h"></i>
							</div>
							<div class="action-title">Tambah Kriteria</div>
							<div class="action-desc">Tambah kriteria penilaian</div>
						</a>

						<!-- Tambah Subkriteria -->
						<a
							href="javascript:void(0)"
							class="action-card"
							data-bs-toggle="modal"
							data-bs-target="#addSubcriteriaModal">
							<div class="action-icon">
								<i class="fas fa-puzzle-piece"></i>
							</div>
							<div class="action-title">Tambah Subkriteria</div>
							<div class="action-desc">Tambah indikator kriteria</div>
						</a>

						<!-- Laporan Hasil Akhir -->
						<a href="/ranking" class="action-card">
							<div class="action-icon">
								<i class="fas fa-trophy"></i>
							</div>
							<div class="action-title">Lihat Hasil Akhir</div>
							<div class="action-desc">Tampilkan hasil seleksi</div>
						</a>
					</div>
				</div>
			</div>
		</div>

		<div layout:fragment="script">
			<script src="/js/dashboard.js"></script>
		</div>
	</body>
</html>
